% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/contrib_balance.R
\name{contrib_balance}
\alias{contrib_balance}
\title{Contribution balance via variance-share importance}
\usage{
contrib_balance(df, weights = NULL)
}
\arguments{
\item{df}{A data.frame of numeric variables. NAs allowed.}

\item{weights}{Optional numeric vector of weights. If NULL, equal weights are used.
If named, names must match df column names (order can differ).
If unnamed, length must equal ncol(df) and is assumed to follow df column order.}
}
\value{
A list with:
\item{summary}{A 1-row data.frame with top contributor and concentration metrics.}
\item{table}{A data.frame of per-variable contributions (variable, weight, sd, cor, score, share).}
\item{index}{The computed index vector.}

The function also prints a short summary and the contribution table.
}
\description{
Computes a variance-share style contribution for each variable to a constructed index:
score_j = |w_j| * sd(x_j) * |cor(x_j, index)|
share_j = score_j / sum(score_j)
}
\details{
Index is computed as a weighted sum with row-wise NA handling:
weights are renormalized over non-missing variables for each row.
}
